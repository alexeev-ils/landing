# Vite + Pug + Sass

## Для запуска сборки:

1. npm install
2. npm start - для разработки
3. npm run build - для сборки в prod (хостится сайт в другом проекте - mono)

### Особенности сборки:
- JavaScript - сборка генерирует ES6 синтаксис, с поддержкой es modules через polifills (создает файл modulepreload-polyfill.js для prod)
- В исходниках (в файлах внутри папки src) - в pug файлах указываем пути от корня проекта /src/…(в вайлах для prod сборка заменяет все эти пути на те которые нужно серверу -  /landing/…). Исключения состоавляют специфические случаи , например - (<link rel="manifest" href="/manifest.webmanifest" >) использования html в pug, который не должен преобразовываться
- На будущее предусмотрена генерация других html страниц, помимо index.html
- При изменении файлов robots.txt или manifest.webmanifest - необходимо их добавить в корень проекта (где проект хостится) в ручную

##### По сборке осталось доделать:
- Добавить нормальные соурсмапы;
- Генерация hash файлов (css,js, media)
- пофиксить баг падающей сборки - `node:events:495 throw er; // Unhandled 'error' event Error: EBUSY: resource busy or locked, lstat 'C:\DumpStack.log.tmp'`
- В случае расширения сайта (добавления новых страниц) - подумать над изоляцией scss компонентов. В <head > через include head ?
- Добавить авто-сжатие картинок и иконок без потери качества